!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){!function(){var e=document.querySelector(".commission-setting-item-wrapper");if(e){var t=e.querySelectorAll(".commission-setting-item")[0].outerHTML,n=document.querySelector('[data-bb-toggle="commission-category-add"]');n&&n.addEventListener("click",(function(n){n.preventDefault();var r=e.querySelectorAll(".commission-setting-item").length,a=t.replace(/\[0\]/g,"[".concat(r,"]")),c=document.createElement("div");c.innerHTML=a;var l=c.querySelector(".commission-setting-item");l.id="commission-setting-item-".concat(r);var d=l.querySelector("textarea.tagify-commission-setting");if(d){d.value="",d.removeAttribute("readonly"),d.removeAttribute("tabindex");var s=d.parentNode;s.querySelectorAll(".tagify").forEach((function(e){return e.remove()})),s.querySelectorAll('input[type="hidden"]').forEach((function(e){return e.remove()}))}var u=l.querySelector(".row .col-9 .row"),m=u.querySelector(".col-2");m||((m=document.createElement("div")).classList.add("col-2"),u.appendChild(m)),m.innerHTML="";var v=document.createElement("button");v.classList.add("btn","btn-icon"),v.setAttribute("data-bb-toggle","commission-remove"),v.setAttribute("data-index",r),v.innerHTML='<svg\n class="icon icon-left svg-icon-ti-ti-trash"\n  xmlns="http://www.w3.org/2000/svg"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  stroke="currentColor"\n  stroke-width="2"\n  stroke-linecap="round"\n  stroke-linejoin="round"\n  >\n  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n  <path d="M4 7l16 0" />\n  <path d="M10 11l0 6" />\n  <path d="M14 11l0 6" />\n  <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />\n  <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />\n</svg> ',m.appendChild(v),e.appendChild(l),i(),o()}));var o=function(){var e=document.querySelectorAll('[data-bb-toggle="commission-remove"]');e&&e.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("data-index"),o=document.querySelector("#commission-setting-item-".concat(n));o&&o.remove()}))}))},r=[],i=function(){if(0===r.length){var e=document.querySelector("#categories-data");if(!e)return void console.error("Categories data element not found");try{var t=JSON.parse(e.value);r=t.map((function(e){return{value:e.name,id:e.id}}))}catch(e){return void console.error("Error parsing categories data:",e)}}var n=document.querySelectorAll(".tagify-commission-setting");n&&n.length>0&&r.length>0&&n.forEach((function(e){var t=e.parentNode,n=t&&t.querySelector(".tagify"),o=e.hasAttribute("readonly");n||o||void 0!==e.tagify||new Tagify(e,{enforceWhitelist:!0,whitelist:r,dropdown:{enabled:1,closeOnSelect:!1}})}))};i(),o()}}()}))}();